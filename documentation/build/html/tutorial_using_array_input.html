<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>&lt;no title&gt; &mdash; Normalization 0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=8dde47fa"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Normalization
          </a>
              <div class="version">
                1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="loading.html">Loading</a></li>
<li class="toctree-l1"><a class="reference internal" href="dark_field_correction.html">Dark Field Correction</a></li>
<li class="toctree-l1"><a class="reference internal" href="normalization.html">Normalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="cropping_data.html">Cropping Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="retrieve_normalized_data.html">Retrieve Normalized Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="export_data.html">Export Data</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Normalization</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">&lt;no title&gt;</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/tutorial_using_array_input.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <dl>
<dt>{</dt><dd><dl>
<dt>“cells”: [</dt><dd><dl>
<dt>{</dt><dd><p>“cell_type”: “markdown”,
“metadata”: {},
“source”: [</p>
<blockquote>
<div><p>“# Tutorial using array input”</p>
</div></blockquote>
<p>]</p>
</dd>
</dl>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“run_control”: {</dt><dd><p>“frozen”: false,
“read_only”: false</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>},
“source”: [</p>
<blockquote>
<div><p>“Package to normalize data using Open Beam (OB) and, optionally Dark Field (DF).n”,
“n”,
“The program allows you to select a background region to allow data to be normalized by OB that do not have the same acquisition time. n”,
“Cropping the image is also possible using the <em>crop</em> methodn”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“run_control”: {</dt><dd><p>“frozen”: false,
“read_only”: false</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>},
“source”: [</p>
<blockquote>
<div><p>“This notebook will illustrate the use of the NeuNorm library by going through a typical normalization. n”,
“n”,
“<strong>In this notebook, we supposed that the data have already been loaded in memory</strong>”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“run_control”: {</dt><dd><p>“frozen”: false,
“read_only”: false</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>},
“source”: [</p>
<blockquote>
<div><p>“## Set up system”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: null,
“metadata”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“run_control”: {</dt><dd><p>“frozen”: false,
“read_only”: false</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>},
“outputs”: [],
“source”: [</p>
<blockquote>
<div><p>“import osn”,
“import sysn”,
“import numpy as npn”,
“import matplotlib.pyplot as pltn”,
“import matplotlib.patches as patchesn”,
“from matplotlib import gridspecn”,
“import globn”,
“from PIL import Imagen”,
“%matplotlib notebook”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“run_control”: {</dt><dd><p>“frozen”: false,
“read_only”: false</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>},
“source”: [</p>
<blockquote>
<div><p>“Add NeuNorm to python path”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 2,
“metadata”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“run_control”: {</dt><dd><p>“frozen”: false,
“read_only”: false</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>},
“outputs”: [],
“source”: [</p>
<blockquote>
<div><p>“root_folder = os.path.dirname(os.getcwd())n”,
“sys.path.append(root_folder)n”,
“import NeuNorm as neunormn”,
“from NeuNorm.normalization import Normalizationn”,
“from NeuNorm.roi import ROI”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {</p>
<blockquote>
<div><p>“collapsed”: true,
“run_control”: {</p>
<blockquote>
<div><p>“frozen”: false,
“read_only”: false</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
<p>},
“source”: [</p>
<blockquote>
<div><p>“## Loading Data Manually”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“run_control”: {</dt><dd><p>“frozen”: false,
“read_only”: false</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>},
“source”: [</p>
<blockquote>
<div><p>“Open Beam”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 10,
“metadata”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“run_control”: {</dt><dd><p>“frozen”: false,
“read_only”: false</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>},
“outputs”: [],
“source”: [</p>
<blockquote>
<div><p>“path_ob = os.path.abspath(‘../data/ob/’)n”,
“list_open_beam = glob.glob(os.path.join(path_ob, ‘<a href="#id1"><span class="problematic" id="id2">*</span></a>.tif’))n”,
“ob_data = []n”,
“for _file in list_open_beam:n”,
“    _ob_data = np.asarray(Image.open(_file))n”,
“    ob_data.append(_ob_data)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“run_control”: {</dt><dd><p>“frozen”: false,
“read_only”: false</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>},
“source”: [</p>
<blockquote>
<div><p>“Sample data path”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 11,
“metadata”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“run_control”: {</dt><dd><p>“frozen”: false,
“read_only”: false</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>},
“outputs”: [],
“source”: [</p>
<blockquote>
<div><p>“path_im = ‘../data/sample’n”,
“list_sample = glob.glob(os.path.join(path_im, ‘<a href="#id3"><span class="problematic" id="id4">*</span></a>.tif’))n”,
“sample_data = []n”,
“for _file in list_sample:n”,
“    _sample_data = np.asarray(Image.open(_file))n”,
“    sample_data.append(_sample_data)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“run_control”: {</dt><dd><p>“frozen”: false,
“read_only”: false</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>},
“source”: [</p>
<blockquote>
<div><p>“Dark Current data path”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 12,
“metadata”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“run_control”: {</dt><dd><p>“frozen”: false,
“read_only”: false</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>},
“outputs”: [],
“source”: [</p>
<blockquote>
<div><p>“path_df = ‘../data/df’n”,
“list_df = glob.glob(os.path.join(path_df, ‘<a href="#id5"><span class="problematic" id="id6">*</span></a>.tif’))n”,
“df_data = []n”,
“for _file in list_df:n”,
“    _df_data = np.asarray(Image.open(_file))n”,
“    df_data.append(_df_data)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“run_control”: {</dt><dd><p>“frozen”: false,
“read_only”: false</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>},
“source”: [</p>
<blockquote>
<div><p>“## Adding the data to the Object “</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 16,
“metadata”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“run_control”: {</dt><dd><p>“frozen”: false,
“read_only”: false</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>},
“outputs”: [],
“source”: [</p>
<blockquote>
<div><p>“o_norm = Normalization()n”,
“o_norm.load(data=sample_data)n”,
“o_norm.load(data=ob_data, data_type=’ob’)n”,
“o_norm.load(data=df_data, data_type=’df’)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“run_control”: {</dt><dd><p>“frozen”: false,
“read_only”: false</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>},
“source”: [</p>
<blockquote>
<div><p>“## Dark Field (DF) correction “</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 17,
“metadata”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“run_control”: {</dt><dd><p>“frozen”: false,
“read_only”: false</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>},
“outputs”: [],
“source”: [</p>
<blockquote>
<div><p>“o_norm.df_correction()”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“run_control”: {</dt><dd><p>“frozen”: false,
“read_only”: false</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>},
“source”: [</p>
<blockquote>
<div><p>“## Normalization of the data “</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“run_control”: {</dt><dd><p>“frozen”: false,
“read_only”: false</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>},
“source”: [</p>
<blockquote>
<div><p>“We will use a normalization ROI.n”,
“<code class="docutils literal notranslate"><span class="pre">`\n&quot;,</span>
<span class="pre">&quot;</span> <span class="pre">x0</span> <span class="pre">=</span> <span class="pre">3\n&quot;,</span>
<span class="pre">&quot;</span> <span class="pre">y0</span> <span class="pre">=</span> <span class="pre">5\n&quot;,</span>
<span class="pre">&quot;</span> <span class="pre">width</span> <span class="pre">=</span> <span class="pre">20\n&quot;,</span>
<span class="pre">&quot;</span> <span class="pre">height</span> <span class="pre">=</span> <span class="pre">40\n&quot;,</span>
<span class="pre">&quot;`</span></code>”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 18,
“metadata”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“run_control”: {</dt><dd><p>“frozen”: false,
“read_only”: false</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“True”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 18,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“norm_roi = ROI(x0=3, y0=5, width=20, height=40)n”,
“o_norm.normalization(roi=norm_roi)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“run_control”: {</dt><dd><p>“frozen”: false,
“read_only”: false</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>},
“source”: [</p>
<blockquote>
<div><p>“## Recovering the normalized data”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 19,
“metadata”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“run_control”: {</dt><dd><p>“frozen”: false,
“read_only”: false</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>},
“outputs”: [],
“source”: [</p>
<blockquote>
<div><p>“normalized_data = o_norm.data[‘normalized’]”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 20,
“metadata”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“run_control”: {</dt><dd><p>“frozen”: false,
“read_only”: false</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“(15, 100, 100)”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 20,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“np.shape(normalized_data)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “markdown”,
“metadata”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“run_control”: {</dt><dd><p>“frozen”: false,
“read_only”: false</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>},
“source”: [</p>
<blockquote>
<div><p>“## Crop “</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: 21,
“metadata”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“run_control”: {</dt><dd><p>“frozen”: false,
“read_only”: false</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>},
“outputs”: [</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl>
<dt>“data”: {</dt><dd><dl class="simple">
<dt>“text/plain”: [</dt><dd><p>“(15, 3, 3)”</p>
</dd>
</dl>
<p>]</p>
</dd>
</dl>
<p>},
“execution_count”: 21,
“metadata”: {},
“output_type”: “execute_result”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“source”: [</p>
<blockquote>
<div><p>“roi_to_keep = ROI(x0=0, y0=0, width=2, height=2)n”,
“o_norm.crop(roi=roi_to_keep)n”,
“n”,
“norm_crop = o_norm.data[‘normalized’]n”,
“np.shape(norm_crop)”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: null,
“metadata”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“run_control”: {</dt><dd><p>“frozen”: false,
“read_only”: false</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>},
“outputs”: [],
“source”: []</p>
</div></blockquote>
<p>},
{</p>
<blockquote>
<div><p>“cell_type”: “code”,
“execution_count”: null,
“metadata”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“run_control”: {</dt><dd><p>“frozen”: false,
“read_only”: false</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>},
“outputs”: [],
“source”: []</p>
</div></blockquote>
<p>}</p>
</dd>
</dl>
<p>],
“metadata”: {</p>
<blockquote>
<div><p>“anaconda-cloud”: {},
“kernelspec”: {</p>
<blockquote>
<div><p>“display_name”: “Python 3”,
“language”: “python”,
“name”: “python3”</p>
</div></blockquote>
<p>},
“language_info”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“codemirror_mode”: {</dt><dd><p>“name”: “ipython”,
“version”: 3</p>
</dd>
</dl>
<p>},
“file_extension”: “.py”,
“mimetype”: “text/x-python”,
“name”: “python”,
“nbconvert_exporter”: “python”,
“pygments_lexer”: “ipython3”,
“version”: “3.6.1”</p>
</div></blockquote>
<p>},
“toc”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“colors”: {</dt><dd><p>“hover_highlight”: “#DAA520”,
“running_highlight”: “#FF0000”,
“selected_highlight”: “#FFD700”</p>
</dd>
</dl>
<p>},
“moveMenuLeft”: true,
“nav_menu”: {</p>
<blockquote>
<div><p>“height”: “156px”,
“width”: “252px”</p>
</div></blockquote>
<p>},
“navigate_menu”: true,
“number_sections”: true,
“sideBar”: true,
“threshold”: 4.0,
“toc_cell”: false,
“toc_section_display”: “block”,
“toc_window_display”: false</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
<p>},
“nbformat”: 4,
“nbformat_minor”: 1</p>
</dd>
</dl>
<p>}</p>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Jean Bilheux.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>